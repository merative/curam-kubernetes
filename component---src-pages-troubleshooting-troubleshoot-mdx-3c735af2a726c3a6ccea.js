"use strict";(self.webpackChunkcuram_kubernetes=self.webpackChunkcuram_kubernetes||[]).push([[9022],{1018:function(e,n,i){i.r(n),i.d(n,{_frontmatter:function(){return l},default:function(){return h}});var t=i(45),r=(i(6540),i(5680)),o=i(4330);const a=["components"],l={},s=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.yg)("div",n)},u=s("Tabs"),p=s("Tab"),m=s("Row"),c=s("Column"),g=s("InlineNotification"),d={_frontmatter:l},y=o.A;function h(e){let{components:n}=e,i=(0,t.A)(e,a);return(0,r.yg)(y,Object.assign({},d,i,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h2",null,"Log Collection"),(0,r.yg)("p",null,"To copy logs from container to the host, enter the following command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"docker cp <containerId>:/file/path/within/container /host/path/target\n")),(0,r.yg)("p",null,"If it is necessary to navigate the Docker® container to find log files, enter the following command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"docker exec -it [container-id] bash\n")),(0,r.yg)("h2",null,"Errors in the Docker Registry"),(0,r.yg)("p",null,"The Docker registry can be a source of errors, which might occur when ",(0,r.yg)("inlineCode",{parentName:"p"},"docker push")," commands are run. Errors like the following may be seen:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Get https://minikube.local:5000/v2/: http: server gave HTTP response to HTTPS client")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Get http://minikube.local:5000/v2/: dial tcp 192.168.39.112:5000: connect: no route to host"))),(0,r.yg)("p",null,"The errors can occur if the registry is not properly configured. Some platform-dependent ways to investigate the errors are as follows:"),(0,r.yg)(u,{mdxType:"Tabs"},(0,r.yg)(p,{label:"Minikube Mac/Linux",mdxType:"Tab"},(0,r.yg)(m,{mdxType:"Row"},(0,r.yg)(c,{mdxType:"Column"},(0,r.yg)("p",null,"Ensure that the IP reflected by the ",(0,r.yg)("inlineCode",{parentName:"p"},"minikube ip")," command is specified in the following locations:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"/etc/hosts")," - Ensure that there is a ",(0,r.yg)("inlineCode",{parentName:"li"},"minikube.local")," entry that matches the Minikube IP address. If necessary, modify the file."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"/etc/docker/daemon.json")," -  Ensure that the specified subnet matches the Minikube IP address. If necessary, edit the file and restart the Docker service. ChartMuseum must also be restarted."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"minikube start")," command ",(0,r.yg)("inlineCode",{parentName:"li"},"--insecure-registry")," option - When this command is used, ensure that the specified subnet matches the Minikube IP."))))),(0,r.yg)(p,{label:"Minikube Windows PS",mdxType:"Tab"},(0,r.yg)(m,{mdxType:"Row"},(0,r.yg)(c,{mdxType:"Column"},(0,r.yg)("p",null,"For the Minikube insecure registry the following is covered in the ",(0,r.yg)("a",{parentName:"p",href:"/curam-kubernetes/prereq/kubernetes/minikube"},"Minikube")," topic:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Ensure that if Minikube has been stopped (e.g., from a reboot), it has been restarted and redeployed using a “fresh” Minikube VM (",(0,r.yg)("inlineCode",{parentName:"li"},"minikube delete")," first)."),(0,r.yg)("li",{parentName:"ul"},"Ensure the ",(0,r.yg)("inlineCode",{parentName:"li"},"--insecure-registry")," option on the ",(0,r.yg)("inlineCode",{parentName:"li"},"minikube start")," command reflects the appropriate value as indicated in the\n",(0,r.yg)("a",{parentName:"li",href:"https://minikube.sigs.k8s.io/docs/handbook/registry/#enabling-insecure-registries"},"Minikube handbook"),": ",(0,r.yg)("inlineCode",{parentName:"li"},'--insecure-registry "10.0.0.0/24"'),"."),(0,r.yg)("li",{parentName:"ul"},"If not using Docker inside the Minikube VM (",(0,r.yg)("inlineCode",{parentName:"li"},"minikube docker-env"),"): Confirm the location of the Docker ",(0,r.yg)("inlineCode",{parentName:"li"},"daemon.json")," file\n(",(0,r.yg)("inlineCode",{parentName:"li"},"C:\\ProgramData\\Docker\\config\\daemon.json")," or ",(0,r.yg)("inlineCode",{parentName:"li"},"$env:USERPROFILE\\.docker\\daemon.json"),", depending on the installation) and ensure it specifies a matching ",(0,r.yg)("inlineCode",{parentName:"li"},"insecure-registries")," setting.")))))),(0,r.yg)("p",null,"Confirm the registry with the following command:"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"curl http://minikube.local:5000/v2/_catalog")),(0,r.yg)("p",null,"The command should return a result similar to:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{"repositories":["batch","curam","httpd","rest","servercode","utilities","xmlserver"]}\n')),(0,r.yg)(g,{mdxType:"InlineNotification"},(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," An empty repository returns: ",(0,r.yg)("inlineCode",{parentName:"p"},'{"repositories":[]}'))))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-troubleshooting-troubleshoot-mdx-3c735af2a726c3a6ccea.js.map